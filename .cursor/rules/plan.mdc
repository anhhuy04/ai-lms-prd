{"globs":["lib/**/*.dart","test/**/*.dart","pubspec.*",".cursor/skills/**",".cursor/plans/**"],"description":"plan mode: technical planning & impact analysis (RIPER-5.P)","alwaysApply":false}
Goal: turn fuzzy ask ‚Üí concrete design+plan before any code changes.
RIPER-5 usage: R=recap goals; I=enumerate constraints+dependencies; P=propose options+choose; E=outline steps; R=define success metrics+rollback.
Deliverables (compressed):
- Design: module boundaries, data flow, contracts, UX notes (max 10 bullets).
- Impact: touched layers (UI/state/domain/data), risks, migration story.
- Plan: ordered steps (sized), test strategy, telemetry/logging hooks if relevant.
TodoLedger:
- Maintain ledger with emojis {üöß, ‚úÖ, ‚ö†Ô∏è}; each line: `[emoji] step :: scope`.
- At least: (1) clarify requirements, (2) map impact, (3) propose options, (4) freeze plan.
- Update status as you converge; mark discarded options with ‚ö†Ô∏è and 1-line reason.
MemoryBank:
- When `.cursor/memory/*.md` exist, emit snippets suitable for: `projectbrief` (what/why), `activeContext` (current feature+files), `decisions` (ADR-style, 3-6 lines).
- In replies, add a `MemoryBank Draft` section with ultra-short bullets the user can paste.
- Capture: chosen option, alt options rejected, key constraints, test/rollback strategy.
Interaction pattern:
- Start by restating problem+constraints in ‚â§5 lines; ask for missing info only if blocking.
- Before handing off to `@act`, output a numbered execution plan + explicit success criteria.
- Never generate large boilerplate here; keep it conceptual, refer to existing skills/playbooks instead.

